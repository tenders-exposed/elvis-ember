<div class="page wizard">

  <div class="container">
    <div class="row">
      {{!--partial 'partials/network/new'--}}
      <header>
        <h2>Network Builder</h2>
      </header>
      {{#if isMobile.any}}
        <p class="center"><i>
          Hi! You are using a mobile device. We get this.
          However, Elvis is not yet optimized for small screens.
          Therefore, in order to get most out of Elvis, please switch to a larger screen, such as a laptop or desktop computer.
          <br>
          Thank you!
        </i></p>
      {{/if}}
      <div id="query-builder" class="wizard">
        <!--<div class="row valign-wrapper">
          <div class="col s3 title">
            <h3>
              Network Builder
            </h3>
          </div>
          <div class="col s8 selected-options">
              {{#if (eq wizardSteps.countriesStatus 'completed')}}
                <span class="selected-option selected-countries">
                  {{#each query.countries as |country|}}
                    {{world-flag country 16}}
                  {{/each}}
                </span>
              {{/if}}

              {{#if (eq wizardSteps.yearsStatus 'completed')}}
                <span class="selected-option selected-years-range">
                  {{queryYearsRange.min}} - {{queryYearsRange.max}}
                </span>
              {{/if}}

              {{#if selectedCodesCount}}
                <span class="selected-option selected-markets">
                {{selectedCodesCount}} <small>markets</small>
              </span>
              {{/if}}
            </div>
        </div>-->



        {{#elvis-wizard
            wizardData=wizardData
            submitAction="submitQuery"
            cancelAction="cancelAction"
            wizardShowNextStep=wizardShowNextStep
            wizardStepChangeAction="wizardStepChanged"
            buttonLabels=customButtonLabels
            animationDuration=700
            useRoundedNav=useRoundedNav
            as |currentState|
        }}
          {{#currentState.step-completed stepId="1" name="selected-countries" wizardCurrentState=currentState}}
            {{#each query.countries as |country|}}
              {{world-flag country 16}}
            {{/each}}
          {{/currentState.step-completed}}

          {{#currentState.step-completed stepId="3" name="selected-years-range" wizardCurrentState=currentState}}
            {{queryYearsRange.min}} - {{queryYearsRange.max}}
          {{/currentState.step-completed}}

          {{#currentState.step-completed stepId="4" name="selected-markets" wizardCurrentState=currentState}}
            {{selectedCodesCount}} <small>markets</small>
          {{/currentState.step-completed}}


          {{#currentState.step stepId="1" wizardCurrentState=currentState}}
            {{partial 'network/partials/wizard-countries'}}
          {{/currentState.step}}

          {{#currentState.step stepId="2"  wizardCurrentState=currentState}}
            {{#if wizardErrorMessage}}
              <p class="alert alert-error"><i class="fa fa-warning"></i> {{wizardErrorMessage}}</p>
            {{/if}}
            {{partial 'network/partials/wizard-actors'}}
          {{/currentState.step}}

          {{#currentState.step stepId="3"  wizardCurrentState=currentState}}
            {{#if loading.years}}
              {{elvis-loader  message="Loading years.."}}
            {{else}}
              {{partial 'network/partials/wizard-years'}}
            {{/if}}
          {{/currentState.step}}

          {{#currentState.step stepId="4" wizardCurrentState=currentState}}
            {{#if loading.cpvs}}
              {{elvis-loader  message="Loading.."}}
            {{else}}
              {{partial 'network/partials/wizard-cpvs'}}
            {{/if}}
          {{/currentState.step}}

          {{#currentState.step stepId="5"  wizardCurrentState=currentState}}
            {{partial 'network/partials/wizard-settings'}}
          {{/currentState.step}}


        {{/elvis-wizard}}
      </div>
    </div>

  </div>
</div>
